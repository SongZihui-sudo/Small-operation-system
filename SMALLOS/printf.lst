A51 MACRO ASSEMBLER  PRINTF                                                               08/25/2021 17:03:51 PAGE     1


MACRO ASSEMBLER A51 V8.01
OBJECT MODULE PLACED IN printf.obj
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE ASM\printf.a51 SET(SMALL) DEBUG PRINT(.\printf.lst) OBJECT(printf.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;程序执行的起始地址    
0000                   2     ORG     0000H                           
0000 020023            3         LJMP        Main                    
0023                   4     ORG     0023H   
                       5     ;处理要打印的数据
0023                   6             Main:
                       7         ;初始化串口参数
0023 758920            8         MOV         TMOD,#020H              ;9600bps
0026 759850            9             MOV     SCON,#50H               
0029 758DFD           10             MOV     TH1,#0FDH               
002C 758BFD           11             MOV     TL1,#0FDH
002F 758700           12             MOV     PCON,#00H
0032 D2AF             13             SETB    EA                              
0034 D2AC             14             SETB    ES              
0036 D28E             15             SETB    TR1
0038                  16     SEND:    
0038 C2AC             17         CLR  ES
003A C299             18         CLR  TI
003C 1140             19         CALL DEALAY
003E 1149             20         CALL STOP
                      21     ;延时 
0040                  22     DEALAY:                                         
0040 7FFA             23         MOV R7,#250 
0042                  24         D1: 
0042 7EFA             25             MOV R6,#250    
0044                  26         D2: 
0044 DEFE             27             DJNZ R6,D2     
0046 DFFA             28         DJNZ R7,D1  
0048 22               29         RET
                      30        ;停止重复发送       
0049                  31     STOP:
0049 D299             32         SETB TI
004B 1149             33         CALL STOP
                      34     ;要发送的数据     
                      35         END
                              
A51 MACRO ASSEMBLER  PRINTF                                                               08/25/2021 17:03:51 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

D1 . . . . . . . .  C ADDR   0042H   A   
D2 . . . . . . . .  C ADDR   0044H   A   
DEALAY . . . . . .  C ADDR   0040H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
MAIN . . . . . . .  C ADDR   0023H   A   
PCON . . . . . . .  D ADDR   0087H   A   
SCON . . . . . . .  D ADDR   0098H   A   
SEND . . . . . . .  C ADDR   0038H   A   
STOP . . . . . . .  C ADDR   0049H   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR1. . . . . . . .  B ADDR   0088H.6 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
